{"version":3,"sources":["webpack:///./src/common/wechat.js"],"names":["__webpack_require__","d","__webpack_exports__","initWechatJs","openCameraForPic","wx","window","isLogin","appId","nonceStr","timestamp","signature","router","link","imgUrl","config","debug","jsApiList","ready","shareInfo","onMenuShareTimeline","title","onMenuShareAppMessage","desc","type","uploadCallback","sourceType","push","chooseImage","count","sizeType","success","res","localIds","console","log","error","e","alert","cancel"],"mappings":"oDAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IACA,IAAMC,EAAKC,OAAOD,OACdE,GAAU,EACDJ,EAAe,SAACK,EAAOC,EAAUC,EAAWC,EAAWC,EAAQC,EAAMC,IAChE,IAAZP,GACFF,EAAGU,QACDC,OAAO,EACPR,MAAOA,EACPE,UAAWA,EACXD,SAAUA,EACVE,UAAWA,EACXM,WACE,aACA,cACA,cACA,sBACA,kBACA,2BAINV,GAAU,EACVF,EAAGa,MAAM,WAEQ,gBAAXN,EAYFO,EAAUN,EAAMC,IAEhBT,EAAGe,qBACDC,cACAR,KAAM,6BACNC,YAEFT,EAAGiB,uBACDD,cACAE,aACAV,KAAM,6BACNC,gBAMKV,EAAmB,SAAUoB,EAAMC,GAC9C,IAAIC,KACS,IAATF,EACFE,EAAWC,KAAK,SAEhBD,EAAWC,KAAK,UAElBtB,EAAGuB,aACDC,MAAO,EACPC,UAAW,WAAY,cACvBJ,WAAYA,EACZK,QAAS,SAAUC,GACjB,IAAIC,EAAWD,EAAIC,SACnBC,QAAQC,IAAIF,GACRR,GAA4C,mBAAnBA,GAC3BA,EAAeQ,IAGnBG,MAAO,SAAUC,GACfC,MAAMD,OAKClB,EAAY,SAAUN,EAAMC,GACvCoB,QAAQC,IAAItB,GACZqB,QAAQC,IAAIrB,GACZT,EAAGe,qBACDC,MAAO,QACPR,KAAMA,EACNC,OAAQA,EACRiB,QAAS,WACPG,QAAQC,OAEVI,OAAQ,WACND,MAAM,WAGVjC,EAAGiB,uBACDD,cACAE,aACAV,KAAMA,EACNC,OAAQA","file":"static/js/0.1f8a1d158e3fb8ed04e3.js","sourcesContent":["// 微信相关的方法\nconst wx = window.wx || {}\nvar isLogin = false\nexport const initWechatJs = (appId, nonceStr, timestamp, signature, router, link, imgUrl) => {\n  if (isLogin === false) {\n    wx.config({\n      debug: false,\n      appId: appId,\n      timestamp: timestamp,\n      nonceStr: nonceStr,\n      signature: signature,\n      jsApiList: [\n        'checkJsApi',\n        'chooseImage',\n        'uploadImage',\n        'onMenuShareTimeline',\n        'getLocalImgData',\n        'onMenuShareAppMessage'\n      ]\n    })\n  }\n  isLogin = true\n  wx.ready(function () {\n    // wx.showOptionMenu()\n    if (router === '/sharephoto') {\n      // wx.onMenuShareTimeline({\n      //   title: `这是自定义标题`,\n      //   link: 'http://coach.realmshow.com?isLast=1',\n      //   imgUrl: `http://citic365.e-mallchina.com.cn/image/shareImg.jpg`\n      // })\n      // wx.onMenuShareAppMessage({\n      //   title: `这是自定义标题`, // 分享标题\n      //   desc: `这是自定义描述`, // 分享描述\n      //   link: 'http://coach.realmshow.com?isLast=1', // 分享链接\n      //   imgUrl: `http://citic365.e-mallchina.com.cn/image/shareImg.jpg` // 分享图片\n      // })\n      shareInfo(link, imgUrl)\n    } else {\n      wx.onMenuShareTimeline({\n        title: `coach`,\n        link: 'http://coach.realmshow.com',\n        imgUrl: ``\n      })\n      wx.onMenuShareAppMessage({\n        title: `coach`, // 分享标题\n        desc: `coach`, // 分享描述\n        link: 'http://coach.realmshow.com', // 分享链接\n        imgUrl: `` // 分享图片\n      })\n    }\n  })\n}\n\nexport const openCameraForPic = function (type, uploadCallback) {\n  var sourceType = []\n  if (type === 1) {\n    sourceType.push('album')\n  } else {\n    sourceType.push('camera')\n  }\n  wx.chooseImage({\n    count: 1, // 默认9\n    sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\n    sourceType: sourceType, // 可以指定来源是相册还是相机，默认二者都有\n    success: function (res) {\n      var localIds = res.localIds // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\n      console.log(localIds)\n      if (uploadCallback && typeof uploadCallback === 'function') {\n        uploadCallback(localIds)\n      }\n    },\n    error: function (e) {\n      alert(e)\n    }\n  })\n}\n\nexport const shareInfo = function (link, imgUrl) {\n  console.log(link)\n  console.log(imgUrl)\n  wx.onMenuShareTimeline({\n    title: 'coach', // 分享时的标题\n    link: link, // 分享时的链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\n    imgUrl: imgUrl, // 分享时显示的图标\n    success: function () {\n      console.log()\n    },\n    cancel: function () {\n      alert('取消分享')\n    }\n  })\n  wx.onMenuShareAppMessage({\n    title: `coach`, // 分享标题\n    desc: `coach`, // 分享描述\n    link: link, // 分享链接\n    imgUrl: imgUrl // 分享图片\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/wechat.js"],"sourceRoot":""}